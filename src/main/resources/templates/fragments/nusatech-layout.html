<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<!--
    NusaTech - Dikoding Muda Nusantara
    Reusable Layout Fragments
    
    Brand Name: NusaTech
    Tagline: Dikoding Muda Nusantara
    Full Name: NusaTech - Dikoding Muda Nusantara
    Copyright: © 2025 NusaTech - Dikoding Muda Nusantara
-->

<!-- ============================================
     HEAD FRAGMENT - Include CSS & Meta
     Usage: <head th:replace="~{fragments/nusatech-layout :: head(title='Page Title')}">
     ============================================ -->
<head th:fragment="head(title)">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="NusaTech - Dikoding Muda Nusantara - Platform Belajar Pemrograman Terbaik untuk Generasi Muda Indonesia">
    <meta name="author" content="NusaTech">
    
    <title th:text="${title} + ' - NusaTech'">NusaTech - Dikoding Muda Nusantara</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" th:href="@{/images/logo.png}">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
    
    <!-- NusaTech Brand CSS -->
    <link rel="stylesheet" th:href="@{/css/nusatech-brand.css}">
</head>

<!-- ============================================
     NAVBAR FRAGMENT - Main Navigation
     Usage: <nav th:replace="~{fragments/nusatech-layout :: navbar}">
     ============================================ -->
<nav th:fragment="navbar" class="nt-navbar">
    <div class="container">
        <div class="d-flex align-items-center justify-content-between">
            <!-- Brand Logo -->
            <a href="/" class="nt-brand">
                <img th:src="@{/images/logo.png}" alt="NusaTech" class="nt-brand-logo" onerror="this.style.display='none'">
                <span class="nt-brand-text">Nusa<span>Tech</span></span>
            </a>
            
            <!-- Navigation Links -->
            <div class="d-none d-lg-flex align-items-center gap-1">
                <a href="/courses" class="nt-nav-link">Kursus</a>
                <a href="/categories" class="nt-nav-link">Kategori</a>
                <a href="/instructors" class="nt-nav-link">Pengajar</a>
                <a href="/about" class="nt-nav-link">Tentang</a>
            </div>
            
            <!-- Auth Buttons (Guest) -->
            <div class="d-flex align-items-center gap-2" th:if="${user == null}">
                <a href="/login" class="nt-btn nt-btn-outline-primary d-none d-sm-inline-flex">Masuk</a>
                <a href="/register" class="nt-btn nt-btn-primary">Daftar Gratis</a>
            </div>
            
            <!-- User Dropdown (Logged In) -->
            <div class="dropdown text-end" th:if="${user != null}">
                <a href="#" class="d-flex align-items-center text-decoration-none dropdown-toggle" id="userDropdown">
                    <div class="d-flex align-items-center gap-2">
                        <div class="text-end d-none d-md-block">
                            <div class="fw-semibold small" th:text="${user.firstName + ' ' + user.lastName}" style="color: var(--nt-text-dark);"></div>
                            <div class="small" th:text="${role}" style="color: var(--nt-text-muted);"></div>
                        </div>
                        <div class="rounded-circle d-flex align-items-center justify-content-center fw-semibold"
                             style="width: 40px; height: 40px; background: var(--nt-primary-light); color: var(--nt-primary);"
                             th:text="${#strings.substring(user.firstName, 0, 1) + #strings.substring(user.lastName, 0, 1)}">
                        </div>
                    </div>
                </a>
                <ul class="dropdown-menu dropdown-menu-end shadow-sm" aria-labelledby="userDropdown" style="border-color: var(--nt-border);">
                    <li th:if="${role == 'Lecturer'}"><a class="dropdown-item" href="/lecturer/dashboard">Dashboard</a></li>
                    <li th:if="${role == 'Admin'}"><a class="dropdown-item" href="/admin/dashboard">Dashboard</a></li>
                    <li th:if="${role == 'Student'}"><a class="dropdown-item" href="/my-account">Akun Saya</a></li>
                    <li th:if="${role == 'Student'}"><a class="dropdown-item" href="/my-courses">Kursus Saya</a></li>
                    <li th:if="${role == 'Student'}"><a class="dropdown-item" href="/cart">Keranjang</a></li>
                    <li><hr class="dropdown-divider"></li>
                    <li><a class="dropdown-item text-danger" href="/logout">Keluar</a></li>
                </ul>
            </div>
        </div>
    </div>
</nav>

<!-- ============================================
     NAVBAR SIMPLE FRAGMENT - Minimal Navigation (for Auth pages)
     Usage: <nav th:replace="~{fragments/nusatech-layout :: navbar-simple}">
     ============================================ -->
<nav th:fragment="navbar-simple" class="nt-navbar" style="border-bottom: none;">
    <div class="container">
        <div class="d-flex align-items-center justify-content-center">
            <a href="/" class="nt-brand">
                <img th:src="@{/images/logo.png}" alt="NusaTech" class="nt-brand-logo" onerror="this.style.display='none'">
                <span class="nt-brand-text">Nusa<span>Tech</span></span>
            </a>
        </div>
    </div>
</nav>

<!-- ============================================
     FOOTER FRAGMENT - Main Footer
     Usage: <footer th:replace="~{fragments/nusatech-layout :: footer}">
     ============================================ -->
<footer th:fragment="footer" class="nt-footer">
    <div class="container">
        <div class="row g-4">
            <!-- Brand Column -->
            <div class="col-lg-4 col-md-6">
                <div class="nt-footer-brand">Nusa<span>Tech</span></div>
                <p class="small" style="color: var(--nt-text-light); max-width: 300px; line-height: 1.7;">
                    Platform pembelajaran pemrograman terbaik untuk generasi muda Indonesia. 
                    Belajar coding dari dasar hingga mahir bersama mentor berpengalaman.
                </p>
                <p class="small mt-3" style="color: var(--nt-text-muted);">
                    <em>Dikoding Muda Nusantara</em>
                </p>
            </div>
            
            <!-- Platform Links -->
            <div class="col-lg-2 col-md-6 col-6">
                <h5 class="nt-footer-title">Platform</h5>
                <ul class="nt-footer-links">
                    <li><a href="/courses">Kursus</a></li>
                    <li><a href="/categories">Kategori</a></li>
                    <li><a href="/instructors">Pengajar</a></li>
                    <li><a href="/pricing">Harga</a></li>
                </ul>
            </div>
            
            <!-- Company Links -->
            <div class="col-lg-2 col-md-6 col-6">
                <h5 class="nt-footer-title">Perusahaan</h5>
                <ul class="nt-footer-links">
                    <li><a href="/about">Tentang Kami</a></li>
                    <li><a href="/careers">Karir</a></li>
                    <li><a href="/blog">Blog</a></li>
                    <li><a href="/contact">Kontak</a></li>
                </ul>
            </div>
            
            <!-- Support Links -->
            <div class="col-lg-2 col-md-6 col-6">
                <h5 class="nt-footer-title">Bantuan</h5>
                <ul class="nt-footer-links">
                    <li><a href="/faq">FAQ</a></li>
                    <li><a href="/support">Pusat Bantuan</a></li>
                    <li><a href="/terms">Syarat & Ketentuan</a></li>
                    <li><a href="/privacy">Kebijakan Privasi</a></li>
                </ul>
            </div>
            
            <!-- Community Links -->
            <div class="col-lg-2 col-md-6 col-6">
                <h5 class="nt-footer-title">Komunitas</h5>
                <ul class="nt-footer-links">
                    <li><a href="/forum">Forum</a></li>
                    <li><a href="/discord">Discord</a></li>
                    <li><a href="/events">Events</a></li>
                    <li><a href="/scholarship">Beasiswa</a></li>
                </ul>
            </div>
        </div>
        
        <!-- Copyright -->
        <div class="nt-footer-copyright d-flex flex-wrap justify-content-between align-items-center">
            <div>© 2025 NusaTech - Dikoding Muda Nusantara. All rights reserved.</div>
            <div class="d-flex gap-3 mt-3 mt-md-0">
                <a href="#" class="text-decoration-none" style="color: var(--nt-text-light);">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"/>
                    </svg>
                </a>
                <a href="#" class="text-decoration-none" style="color: var(--nt-text-light);">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                    </svg>
                </a>
                <a href="#" class="text-decoration-none" style="color: var(--nt-text-light);">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"/>
                    </svg>
                </a>
                <a href="#" class="text-decoration-none" style="color: var(--nt-text-light);">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                    </svg>
                </a>
            </div>
        </div>
    </div>
</footer>

<!-- ============================================
     SIDEBAR FRAGMENT - Dashboard Sidebar
     Usage: <aside th:replace="~{fragments/nusatech-layout :: sidebar-lecturer(active='dashboard')}">
     ============================================ -->
<aside th:fragment="sidebar-lecturer(active)" class="nt-sidebar" id="sidebar">
    <div style="padding: 1.5rem; border-bottom: 1px solid var(--nt-border);">
        <a href="/" class="nt-brand">
            <img th:src="@{/images/logo.png}" alt="NusaTech" style="height: 32px; width: auto;" onerror="this.style.display='none'">
            <span class="nt-brand-text" style="font-size: 1.125rem;">Nusa<span>Tech</span></span>
        </a>
    </div>

    <nav style="padding: 1rem 0;">
        <div style="padding: 0 1rem; margin-bottom: 1.5rem;">
            <div style="font-size: 0.6875rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; color: var(--nt-text-light); padding: 0 0.75rem; margin-bottom: 0.5rem;">
                Menu Utama
            </div>
            <a href="/lecturer/dashboard" class="nt-sidebar-nav-item" th:classappend="${active == 'dashboard'} ? 'active'">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="3" width="7" height="7"></rect>
                    <rect x="14" y="3" width="7" height="7"></rect>
                    <rect x="14" y="14" width="7" height="7"></rect>
                    <rect x="3" y="14" width="7" height="7"></rect>
                </svg>
                Dashboard
            </a>
            <a href="/lecturer/courses" class="nt-sidebar-nav-item" th:classappend="${active == 'courses'} ? 'active'">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                </svg>
                Kursus Saya
            </a>
            <a href="/lecturer/courses/create" class="nt-sidebar-nav-item" th:classappend="${active == 'create'} ? 'active'">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"></circle>
                    <path d="M12 8v8"></path>
                    <path d="M8 12h8"></path>
                </svg>
                Buat Kursus
            </a>
        </div>

        <div style="padding: 0 1rem; margin-bottom: 1.5rem;">
            <div style="font-size: 0.6875rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; color: var(--nt-text-light); padding: 0 0.75rem; margin-bottom: 0.5rem;">
                Analitik
            </div>
            <a href="/lecturer/statistics" class="nt-sidebar-nav-item" th:classappend="${active == 'statistics'} ? 'active'">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M18 20V10"></path>
                    <path d="M12 20V4"></path>
                    <path d="M6 20v-6"></path>
                </svg>
                Statistik
            </a>
            <a href="/lecturer/earnings" class="nt-sidebar-nav-item" th:classappend="${active == 'earnings'} ? 'active'">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="12" y1="1" x2="12" y2="23"></line>
                    <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                </svg>
                Pendapatan
            </a>
            <a href="/lecturer/reviews" class="nt-sidebar-nav-item" th:classappend="${active == 'reviews'} ? 'active'">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
                </svg>
                Ulasan
            </a>
        </div>

        <div style="padding: 0 1rem;">
            <div style="font-size: 0.6875rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; color: var(--nt-text-light); padding: 0 0.75rem; margin-bottom: 0.5rem;">
                Lainnya
            </div>
            <a href="/lecturer/settings" class="nt-sidebar-nav-item" th:classappend="${active == 'settings'} ? 'active'">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="3"></circle>
                    <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
                </svg>
                Pengaturan
            </a>
            <a href="/logout" class="nt-sidebar-nav-item">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                    <polyline points="16 17 21 12 16 7"></polyline>
                    <line x1="21" y1="12" x2="9" y2="12"></line>
                </svg>
                Keluar
            </a>
        </div>
    </nav>

    <div style="padding: 1rem 1.5rem; border-top: 1px solid var(--nt-border); margin-top: auto;">
        <div class="d-flex align-items-center gap-3">
            <div class="rounded-circle d-flex align-items-center justify-content-center fw-semibold"
                 style="width: 40px; height: 40px; background: var(--nt-primary-light); color: var(--nt-primary);"
                 th:text="${user != null} ? ${#strings.substring(user.firstName, 0, 1) + #strings.substring(user.lastName, 0, 1)} : 'NT'">
            </div>
            <div style="flex: 1; min-width: 0;">
                <div class="fw-semibold small text-truncate" th:text="${user != null} ? ${user.firstName + ' ' + user.lastName} : 'User'" style="color: var(--nt-text-dark);"></div>
                <div class="small" th:text="${role}" style="color: var(--nt-text-muted);">Lecturer</div>
            </div>
        </div>
    </div>
</aside>

<!-- ============================================
     SCRIPTS FRAGMENT - JavaScript includes
     Usage: <div th:replace="~{fragments/nusatech-layout :: scripts}">
     ============================================ -->
<div th:fragment="scripts">
    <script th:src="@{/js/bootstrap.bundle.min.js}"></script>
    <script>
        // Enable Bootstrap dropdown hover on desktop
        document.querySelectorAll('.dropdown').forEach(function(dropdown) {
            dropdown.addEventListener('mouseenter', function() {
                if (window.innerWidth > 992) {
                    let menu = this.querySelector('.dropdown-menu');
                    if (menu) {
                        menu.classList.add('show');
                    }
                }
            });
            dropdown.addEventListener('mouseleave', function() {
                if (window.innerWidth > 992) {
                    let menu = this.querySelector('.dropdown-menu');
                    if (menu) {
                        menu.classList.remove('show');
                    }
                }
            });
        });
    </script>
</div>

<!-- ============================================
     CTA SECTION FRAGMENT - Call to Action
     Usage: <section th:replace="~{fragments/nusatech-layout :: cta-section}">
     ============================================ -->
<section th:fragment="cta-section" class="py-5" style="background: var(--nt-text-dark);">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-8">
                <h2 class="fw-bold mb-3" style="font-size: 2rem; color: white;">Siap Memulai Perjalanan Coding-mu?</h2>
                <p class="mb-0" style="font-size: 1rem; color: rgba(255, 255, 255, 0.7); max-width: 500px;">
                    Bergabung dengan ribuan pelajar lainnya dan mulai belajar pemrograman hari ini. 
                    Gratis untuk memulai, tanpa kartu kredit.
                </p>
            </div>
            <div class="col-lg-4 text-lg-end mt-4 mt-lg-0">
                <a href="/register" class="nt-btn nt-btn-secondary nt-btn-lg">
                    Daftar Gratis Sekarang
                </a>
            </div>
        </div>
    </div>
</section>

<!-- ============================================
     BACK TO HOME LINK FRAGMENT
     Usage: <a th:replace="~{fragments/nusatech-layout :: back-home}">
     ============================================ -->
<a th:fragment="back-home" href="/" style="position: absolute; top: 1.5rem; left: 1.5rem; display: flex; align-items: center; gap: 0.5rem; font-size: 0.875rem; color: var(--nt-text-muted); font-weight: 500; text-decoration: none;">
    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="m12 19-7-7 7-7"></path>
        <path d="M19 12H5"></path>
    </svg>
    Kembali ke Beranda
</a>

</html>
